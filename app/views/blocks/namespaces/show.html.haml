- breadcrumb :namespace, @repo, @namespace

- content_for(:header_icon, 'fa-file-code-o')

.row
  .col-md-12
    .panel-heading
      - @namespace.smells_statistics.each do |name, count|
        - smell_class = "#{name}Decorator".constantize
        %button.btn.btn-default{disabled: true}
          %i{class: smell_class.icon}
          = smell_class.title
          &nbsp;
          %span.badge= count

    - @namespace.files.each do |file|
      .panel.panel-warning
        .panel-heading
          %h3.panel-title= file.name

          %ul.panel-controls
            %li
              %a.panel-fullscreen{href: "#"}
                %i.fa.fa-expand
            %li
              %a.panel-collapse{href: ""}
                %i.fa.fa-angle-down

          .panel-body
            %pre
              %code{class: 'ruby',
                    data: {smells: @namespace.smells.decorate.source_grouped[file.name].to_json}}
                = preserve do
                  = file.content
